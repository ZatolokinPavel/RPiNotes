# Установка и настройка Nginx  

### Установка  
По умолчанию устанавливается версия 1.10.3. А хотелось бы самую свежую.  
Поэтому сначала [подключаем репозиторий buster](README.md#добавление-репозитория-buster), а затем выполняем  
`sudo apt-get update`  
`sudo apt-get install nginx`  
в результате установится самая свежая стабильная версия nginx 1.14.2  
Не забываем отключить репозиторий buster.  

### Неудачная установка из другого репозитория  
Это всё делать не нужно! Установка закончится ошибкой. Но для истории сохраню.  
Нужно было добавить в файл `/etc/apt/sources.list` строку  
`deb http://httpredir.debian.org/debian/ stretch-backports main contrib non-free`  
а затем выполнить команды  
```bash
sudo apt-get update
apt-cache policy nginx
sudo apt-get -t stretch-backports install nginx
```
Перед началом установки будет предупреждение, что невозможно аутентифицировать пакеты. Нужно согласиться всё равно установить. Или можно перед установкой добавить ключ репозитория в apt-get. Но лень.
В итоге установка завершилась ошибкой.  

### Настройка  
По настройке всего nginx глобально ничего конкретного сказать не могу. Надо почитать ещё. Но работает и так.  
Только нужно удалить символьную ссылку `/etc/nginx/sites-enabled/default` и добавить в эту папку символьную ссылку на свой сайт. А уж конфиг своего сайта как настроить - это отдельная тема. [Смотри тут](https://github.com/ZatolokinPavel/okfilm).  
